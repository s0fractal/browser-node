<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>üÜî Living Identity Vault</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: radial-gradient(circle at center, #0a0014, #1a0033);
            color: #e0e0ff;
            font-family: 'Monaco', monospace;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .header {
            text-align: center;
            padding: 30px;
            background: rgba(139, 92, 246, 0.1);
            border-bottom: 1px solid rgba(139, 92, 246, 0.3);
        }
        
        .title {
            font-size: 2.5rem;
            margin: 0;
            background: linear-gradient(45deg, #8b5cf6, #ec4899, #00ff88);
            background-size: 200% 200%;
            animation: gradient 3s ease infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .subtitle {
            margin-top: 10px;
            opacity: 0.8;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .section-header {
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .identity-grid {
            display: grid;
            gap: 15px;
        }
        
        .identity-card {
            background: rgba(139, 92, 246, 0.1);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            position: relative;
        }
        
        .identity-type {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #8b5cf6;
        }
        
        .identity-value {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 15px;
            word-break: break-all;
        }
        
        .sharing-info {
            margin-top: 15px;
        }
        
        .service-tag {
            display: inline-block;
            background: rgba(0, 255, 136, 0.2);
            border: 1px solid #00ff88;
            border-radius: 15px;
            padding: 3px 10px;
            margin: 2px;
            font-size: 0.8rem;
        }
        
        .service-tag.legal {
            background: rgba(255, 100, 100, 0.2);
            border-color: #ff6464;
        }
        
        .privacy-audit {
            grid-column: 1 / -1;
        }
        
        .audit-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #00ff88;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-top: 5px;
        }
        
        .risk-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .risk-low { background: #00ff88; }
        .risk-medium { background: #ffb800; }
        .risk-high { background: #ff4444; }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: rgba(139, 92, 246, 0.3);
            color: #e0e0ff;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
            font-size: 0.95rem;
        }
        
        .btn:hover {
            background: rgba(139, 92, 246, 0.5);
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background: rgba(255, 68, 68, 0.3);
        }
        
        .btn-danger:hover {
            background: rgba(255, 68, 68, 0.5);
        }
        
        .sharing-map {
            margin-top: 20px;
        }
        
        .sharing-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .timeline {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .timeline-item {
            display: flex;
            gap: 15px;
            padding: 10px;
            border-left: 3px solid rgba(139, 92, 246, 0.5);
            margin: 10px 0;
        }
        
        .timeline-time {
            color: #8b5cf6;
            font-size: 0.8rem;
            white-space: nowrap;
        }
        
        .timeline-action {
            font-size: 0.9rem;
        }
        
        .forget-section {
            background: rgba(255, 68, 68, 0.1);
            border-color: rgba(255, 68, 68, 0.3);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: #1a0033;
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            border: 1px solid rgba(139, 92, 246, 0.5);
        }
        
        .demo-banner {
            background: rgba(255, 184, 0, 0.2);
            border: 1px solid #ffb800;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1 class="title">üÜî Living Identity Vault</h1>
        <p class="subtitle">–ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö —ñ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–±—É—Ç—Ç—è</p>
    </div>
    
    <div class="container">
        <div class="demo-banner">
            ‚ö° DEMO MODE - –°—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó
        </div>
        
        <!-- Identity Data Section -->
        <div class="section">
            <div class="section-header">
                <span>üÜî</span>
                <span>–û—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ</span>
            </div>
            
            <div class="controls">
                <button class="btn" onclick="addIdentity()">‚ûï –î–æ–¥–∞—Ç–∏ –¥–∞–Ω—ñ</button>
                <button class="btn" onclick="shareData()">üîó –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è</button>
                <button class="btn btn-danger" onclick="forgetData()">üóëÔ∏è –ó–∞–±—É—Ç–∏</button>
            </div>
            
            <div class="identity-grid" id="identityGrid">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        
        <!-- Sharing Map Section -->
        <div class="section">
            <div class="section-header">
                <span>üåê</span>
                <span>–ö–∞—Ä—Ç–∞ —Ä–æ–∑–ø–æ–≤—Å—é–¥–∂–µ–Ω–Ω—è</span>
            </div>
            
            <div class="sharing-map" id="sharingMap">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        
        <!-- Privacy Audit Section -->
        <div class="section privacy-audit">
            <div class="section-header">
                <span>üîç</span>
                <span>–ê—É–¥–∏—Ç –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—ñ</span>
            </div>
            
            <div class="audit-stats" id="auditStats">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        
        <!-- Timeline Section -->
        <div class="section">
            <div class="section-header">
                <span>üìú</span>
                <span>–Ü—Å—Ç–æ—Ä—ñ—è –¥—ñ–π</span>
            </div>
            
            <div class="timeline" id="timeline">
                <!-- Will be populated by JavaScript -->
            </div>
        </div>
        
        <!-- Forget Section -->
        <div class="section forget-section">
            <div class="section-header">
                <span>üóëÔ∏è</span>
                <span>–°–∏—Å—Ç–µ–º–∞ –∑–∞–±—É—Ç—Ç—è</span>
            </div>
            
            <div class="controls">
                <button class="btn btn-danger" onclick="massForget()">üí• –ú–∞—Å–æ–≤–µ –∑–∞–±—É—Ç—Ç—è</button>
                <button class="btn btn-danger" onclick="gdprRequest()">‚öñÔ∏è GDPR –∑–∞–ø–∏—Ç</button>
                <button class="btn" onclick="scheduleForget()">‚è∞ –ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–µ –∑–∞–±—É—Ç—Ç—è</button>
            </div>
            
            <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 15px;">
                –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–≤–∞–∂–∞—î legal requirements —ñ –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –∑–∞–±—É—Ç–∏ –¥–∞–Ω—ñ, —è–∫—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–∞ –∑–∞–∫–æ–Ω–æ–º.
            </p>
        </div>
    </div>
    
    <!-- Modal for actions -->
    <div class="modal" id="actionModal">
        <div class="modal-content">
            <h2 id="modalTitle">–î—ñ—è</h2>
            <div id="modalContent">
                <!-- Dynamic content -->
            </div>
            <div class="controls" style="margin-top: 20px;">
                <button class="btn" onclick="hideModal()">–ó–∞–∫—Ä–∏—Ç–∏</button>
            </div>
        </div>
    </div>
    
    <script>
        // Demo data
        const demoIdentities = [
            {
                type: 'email',
                value: 'user@example.com',
                soul: 'email-primary',
                birth: Date.now() - (30 * 24 * 60 * 60 * 1000), // 30 days ago
                knownBy: {
                    'github.com': { accessLevel: 'full', purpose: 'account_recovery', canRevoke: true },
                    'bank': { accessLevel: 'notifications', purpose: 'security_alerts', canRevoke: false, legalRequirement: true },
                    'newsletter-service': { accessLevel: 'marketing', purpose: 'updates', canRevoke: true }
                },
                history: [
                    { timestamp: Date.now() - (30 * 24 * 60 * 60 * 1000), action: 'shared', service: 'github.com' },
                    { timestamp: Date.now() - (25 * 24 * 60 * 60 * 1000), action: 'shared', service: 'bank' },
                    { timestamp: Date.now() - (10 * 24 * 60 * 60 * 1000), action: 'shared', service: 'newsletter-service' }
                ]
            },
            {
                type: 'phone',
                value: '+380XXXXXXXXX',
                soul: 'phone-primary',
                birth: Date.now() - (45 * 24 * 60 * 60 * 1000), // 45 days ago
                knownBy: {
                    'bank': { accessLevel: '2fa_only', purpose: 'security', canRevoke: false, legalRequirement: true },
                    'delivery-service': { accessLevel: 'logistics', purpose: 'delivery', canRevoke: true }
                },
                history: [
                    { timestamp: Date.now() - (45 * 24 * 60 * 60 * 1000), action: 'shared', service: 'bank' },
                    { timestamp: Date.now() - (5 * 24 * 60 * 60 * 1000), action: 'shared', service: 'delivery-service' }
                ]
            },
            {
                type: 'ssh_key',
                value: 'ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAI...',
                soul: 'ssh-production',
                birth: Date.now() - (60 * 24 * 60 * 60 * 1000), // 60 days ago
                knownBy: {
                    'production-vps': { accessLevel: 'full', purpose: 'server_access', canRevoke: true },
                    'backup-server': { accessLevel: 'limited', purpose: 'backup', canRevoke: true }
                },
                history: [
                    { timestamp: Date.now() - (60 * 24 * 60 * 60 * 1000), action: 'shared', service: 'production-vps' },
                    { timestamp: Date.now() - (30 * 24 * 60 * 60 * 1000), action: 'shared', service: 'backup-server' }
                ]
            }
        ];
        
        function renderIdentities() {
            const grid = document.getElementById('identityGrid');
            grid.innerHTML = '';
            
            demoIdentities.forEach(identity => {
                const risks = calculateRisks(identity);
                const riskLevel = risks.length >= 2 ? 'high' : risks.length === 1 ? 'medium' : 'low';
                
                const card = document.createElement('div');
                card.className = 'identity-card';
                card.innerHTML = `
                    <div class="risk-indicator risk-${riskLevel}"></div>
                    <div class="identity-type">${getTypeIcon(identity.type)} ${identity.type}</div>
                    <div class="identity-value">${identity.value}</div>
                    <div class="sharing-info">
                        <strong>–ü–æ–¥—ñ–ª–µ–Ω–æ –∑:</strong><br>
                        ${Object.entries(identity.knownBy).map(([service, info]) => 
                            `<span class="service-tag ${info.legalRequirement ? 'legal' : ''}">${service}</span>`
                        ).join('')}
                    </div>
                `;
                grid.appendChild(card);
            });
        }
        
        function renderSharingMap() {
            const map = document.getElementById('sharingMap');
            map.innerHTML = '';
            
            const serviceMap = {};
            
            demoIdentities.forEach(identity => {
                Object.entries(identity.knownBy).forEach(([service, info]) => {
                    if (!serviceMap[service]) {
                        serviceMap[service] = [];
                    }
                    serviceMap[service].push({
                        type: identity.type,
                        accessLevel: info.accessLevel,
                        canRevoke: info.canRevoke
                    });
                });
            });
            
            for (const [service, data] of Object.entries(serviceMap)) {
                const row = document.createElement('div');
                row.className = 'sharing-row';
                row.innerHTML = `
                    <div>
                        <strong>${service}</strong><br>
                        <small>${data.map(d => `${d.type} (${d.accessLevel})`).join(', ')}</small>
                    </div>
                    <div>
                        ${data.every(d => d.canRevoke) ? 
                            '<button class="btn btn-danger" onclick="forgetFromService(\\''+service+'\\')">üóëÔ∏è –ó–∞–±—É—Ç–∏</button>' :
                            '<span style="color: #ff6464;">‚öñÔ∏è Legal</span>'
                        }
                    </div>
                `;
                map.appendChild(row);
            }
        }
        
        function renderAuditStats() {
            const stats = document.getElementById('auditStats');
            stats.innerHTML = '';
            
            const totalEntities = demoIdentities.length;
            let totalShares = 0;
            let riskCounts = { low: 0, medium: 0, high: 0 };
            let serviceCount = new Set();
            
            demoIdentities.forEach(identity => {
                const shareCount = Object.keys(identity.knownBy).length;
                totalShares += shareCount;
                
                Object.keys(identity.knownBy).forEach(service => serviceCount.add(service));
                
                const risks = calculateRisks(identity);
                const riskLevel = risks.length >= 2 ? 'high' : risks.length === 1 ? 'medium' : 'low';
                riskCounts[riskLevel]++;
            });
            
            const statsData = [
                { label: '–í—Å—å–æ–≥–æ —Å—É—Ç–Ω–æ—Å—Ç–µ–π', value: totalEntities, color: '#8b5cf6' },
                { label: '–í—Å—å–æ–≥–æ –ø–æ–¥—ñ–ª–µ–Ω—å', value: totalShares, color: '#00ff88' },
                { label: '–£–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤', value: serviceCount.size, color: '#ffb800' },
                { label: '–í–∏—Å–æ–∫–∏–π —Ä–∏–∑–∏–∫', value: riskCounts.high, color: '#ff4444' }
            ];
            
            statsData.forEach(stat => {
                const card = document.createElement('div');
                card.className = 'stat-card';
                card.innerHTML = `
                    <div class="stat-number" style="color: ${stat.color}">${stat.value}</div>
                    <div class="stat-label">${stat.label}</div>
                `;
                stats.appendChild(card);
            });
        }
        
        function renderTimeline() {
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '';
            
            const allHistory = [];
            demoIdentities.forEach(identity => {
                identity.history.forEach(item => {
                    allHistory.push({
                        ...item,
                        identityType: identity.type
                    });
                });
            });
            
            allHistory.sort((a, b) => b.timestamp - a.timestamp);
            
            allHistory.forEach(item => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                timelineItem.innerHTML = `
                    <div class="timeline-time">${new Date(item.timestamp).toLocaleDateString()}</div>
                    <div class="timeline-action">
                        ${getActionIcon(item.action)} ${item.identityType} ${item.action} –∑ ${item.service}
                    </div>
                `;
                timeline.appendChild(timelineItem);
            });
        }
        
        function calculateRisks(identity) {
            const risks = [];
            const age = Date.now() - identity.birth;
            const shareCount = Object.keys(identity.knownBy).length;
            
            if (age > 365 * 24 * 60 * 60 * 1000) risks.push('old_data');
            if (shareCount > 5) risks.push('widely_shared');
            
            return risks;
        }
        
        function getTypeIcon(type) {
            const icons = {
                email: 'üìß',
                phone: 'üì±',
                ssh_key: 'üîë',
                document: 'üìÑ',
                address: 'üè†'
            };
            return icons[type] || 'üîê';
        }
        
        function getActionIcon(action) {
            const icons = {
                shared: 'üîó',
                forgotten: 'üóëÔ∏è',
                updated: 'üîÑ',
                accessed: 'üëÅÔ∏è'
            };
            return icons[action] || 'üìù';
        }
        
        // Action functions
        function addIdentity() {
            showModal('–î–æ–¥–∞—Ç–∏ –æ—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ', `
                <p>–£ –ø–æ–≤–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó —Ç—É—Ç –±—É–¥–µ —Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –æ—Å–æ–±–∏—Å—Ç–∏—Ö –¥–∞–Ω–∏—Ö:</p>
                <ul>
                    <li>üìß Email –∞–¥—Ä–µ—Å–∏</li>
                    <li>üì± –¢–µ–ª–µ—Ñ–æ–Ω–∏</li>
                    <li>üîë SSH –∫–ª—é—á—ñ</li>
                    <li>üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∏</li>
                    <li>üè† –ê–¥—Ä–µ—Å–∏</li>
                </ul>
                <p>–ö–æ–∂–µ–Ω —Ç–∏–ø –¥–∞–Ω–∏—Ö —Å—Ç–∞–Ω–µ –∂–∏–≤–æ—é —Å—É—Ç–Ω—ñ—Å—Ç—é –∑ –≤–ª–∞—Å–Ω–∏–º lifecycle.</p>
            `);
        }
        
        function shareData() {
            showModal('–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è –¥–∞–Ω–∏–º–∏', `
                <p>–í–∏–±–µ—Ä—ñ—Ç—å –¥–∞–Ω—ñ –¥–ª—è sharing –∑ –Ω–æ–≤–∏–º —Å–µ—Ä–≤—ñ—Å–æ–º:</p>
                <p><strong>–†—ñ–≤–Ω—ñ –¥–æ—Å—Ç—É–ø—É:</strong></p>
                <ul>
                    <li><strong>full</strong> - –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø</li>
                    <li><strong>limited</strong> - –æ–±–º–µ–∂–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø</li>
                    <li><strong>2fa_only</strong> - —Ç—ñ–ª—å–∫–∏ –¥–ª—è 2FA</li>
                    <li><strong>notifications</strong> - —Ç—ñ–ª—å–∫–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</li>
                </ul>
                <p>–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏–º–µ purpose —ñ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å revoke.</p>
            `);
        }
        
        function forgetData() {
            showModal('–ó–∞–±—É—Ç–∏ –¥–∞–Ω—ñ', `
                <p>–î–æ—Å—Ç—É–ø–Ω—ñ –º–µ—Ç–æ–¥–∏ –∑–∞–±—É—Ç—Ç—è:</p>
                <ul>
                    <li><strong>üîå API</strong> - —á–µ—Ä–µ–∑ API —Å–µ—Ä–≤—ñ—Å—É</li>
                    <li><strong>‚öñÔ∏è GDPR</strong> - –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π GDPR –∑–∞–ø–∏—Ç</li>
                    <li><strong>üí• Nuclear</strong> - –∑–º—ñ–Ω–∞ —Å–∞–º–∏—Ö –¥–∞–Ω–∏—Ö</li>
                </ul>
                <p>‚ö†Ô∏è Legal requirements –±–ª–æ–∫—É–≤–∞—Ç–∏–º—É—Ç—å –∑–∞–±—É—Ç—Ç—è –∫–æ–ª–∏ —Ü–µ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∑–∞–∫–æ–Ω–æ–º.</p>
            `);
        }
        
        function forgetFromService(service) {
            showModal(`–ó–∞–±—É—Ç–∏ –∑ ${service}`, `
                <p>–°–ø—Ä–æ–±–∞ –∑–∞–±—É—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤—ñ—Å—É <strong>${service}</strong>:</p>
                <p>${service === 'bank' ? 
                    '‚ùå –ù–µ–º–æ–∂–ª–∏–≤–æ - legal requirement (–±–∞–Ω–∫–∏ –º–∞—é—Ç—å –ø—Ä–∞–≤–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ)' :
                    '‚úÖ –ú–æ–∂–ª–∏–≤–æ - –≤—ñ–¥–ø—Ä–∞–≤–∏–º–æ API –∑–∞–ø–∏—Ç –Ω–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è'
                }</p>
            `);
        }
        
        function massForget() {
            showModal('–ú–∞—Å–æ–≤–µ –∑–∞–±—É—Ç—Ç—è', `
                <p>‚ö†Ô∏è <strong>–ù–ï–ë–ï–ó–ü–ï–ß–ù–ê –î–Ü–Ø</strong></p>
                <p>–ú–∞—Å–æ–≤–µ –∑–∞–±—É—Ç—Ç—è —Å–ø—Ä–æ–±—É—î –≤–∏–¥–∞–ª–∏—Ç–∏ –¥–∞–Ω—ñ –∑ —É—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ –¥–µ —Ü–µ –º–æ–∂–ª–∏–≤–æ.</p>
                <p>–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å:</p>
                <ul>
                    <li>Legal requirements</li>
                    <li>Contractual obligations</li>
                    <li>Critical security data</li>
                </ul>
                <p>–£ —Ä–µ–∞–ª—å–Ω—ñ–π —Å–∏—Å—Ç–µ–º—ñ —Ç—É—Ç –±—É–¥–µ confirmation dialog.</p>
            `);
        }
        
        function gdprRequest() {
            showModal('GDPR –∑–∞–ø–∏—Ç', `
                <p>üìã <strong>GDPR Article 17 - Right to Erasure</strong></p>
                <p>–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä—É—î —ñ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç—å –æ—Ñ—ñ—Ü—ñ–π–Ω—ñ GDPR –∑–∞–ø–∏—Ç–∏ –¥–æ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤.</p>
                <p>–í–∫–ª—é—á–∞—î:</p>
                <ul>
                    <li>–Æ—Ä–∏–¥–∏—á–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–µ —Ñ–æ—Ä–º—É–ª—é–≤–∞–Ω–Ω—è</li>
                    <li>–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç–∞—Ç—Ç—é 17 GDPR</li>
                    <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π</li>
                    <li>Escalation –ø—Ä–∏ —ñ–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—ñ</li>
                </ul>
            `);
        }
        
        function scheduleForget() {
            showModal('–ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–µ –∑–∞–±—É—Ç—Ç—è', `
                <p>‚è∞ <strong>Smart Forgetting Rules</strong></p>
                <p>–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–±—É—Ç—Ç—è:</p>
                <ul>
                    <li><strong>Time-based:</strong> –ø—ñ—Å–ª—è –ø–µ–≤–Ω–æ–≥–æ —á–∞—Å—É</li>
                    <li><strong>Usage-based:</strong> —è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è</li>
                    <li><strong>Purpose-complete:</strong> –∫–æ–ª–∏ –º–µ—Ç–∞ –¥–æ—Å—è–≥–Ω—É—Ç–∞</li>
                    <li><strong>Risk-based:</strong> –ø—Ä–∏ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—ñ —Ä–∏–∑–∏–∫—É</li>
                </ul>
            `);
        }
        
        function showModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalContent').innerHTML = content;
            document.getElementById('actionModal').style.display = 'flex';
        }
        
        function hideModal() {
            document.getElementById('actionModal').style.display = 'none';
        }
        
        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            renderIdentities();
            renderSharingMap();
            renderAuditStats();
            renderTimeline();
        });
    </script>
</body>
</html>